<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - hakathon</title>
    <link rel="stylesheet" href="~/assets/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/category.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/document.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/profile.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/favoritedocument.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/contact.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/css/about.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/assets/hakathon.styles.css" asp-append-version="true" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />

</head>
<body>
    <!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SenseLib - Tri thức cho cộng đồng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- HEADER -->
    <header class="sense-header">
        <div class="sense-container">
            <div class="sense-header-wrapper">
                <div class="sense-logo">
                    <a href="#">
                        <img src="/api/placeholder/150/50" alt="SenseLib Logo">
                        <span>SenseLib</span>
                    </a>
                </div>
                <div class="sense-search">
                    <form action="#" method="GET">
                        <input type="text" placeholder="Tìm kiếm tài liệu...">
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>
                </div>
                <div class="sense-user-actions">
    @if (User.Identity.IsAuthenticated)
    {
        <div class="user-dropdown">
            <a href="#" class="user-menu-toggle">
                <i class="bi bi-person-circle"></i> @User.Identity.Name <i class="bi bi-chevron-down"></i>
            </a>
            <ul class="user-dropdown-menu">
                <li><a href="@Url.Action("Profile", "Home")"><i class="bi bi-person"></i> Trang cá nhân</a></li>
                <li><a href="javascript:void(0);" onclick="logout();"><i class="bi bi-box-arrow-right"></i> Đăng xuất</a></li>
                <script>
    function logout() {
        $.ajax({
            url: '/Login/Logout',
            type: 'POST',
            dataType: 'json',
            success: function (result) {
                if (result.success) {
                    window.location.href = result.redirect || '/';
                } else {
                    alert('Có lỗi khi đăng xuất. Vui lòng thử lại.');
                    window.location.href = '/';
                }
            },
            error: function (error) {
                console.error('Logout failed:', error);
                window.location.href = '/';
            }
        });
        return false;
    }
</script>
            </ul>
        </div>
    }
    else
    {
        <a href="@Url.Action("Index", "Login")" class="sense-btn sense-btn-outline">
            <i class="fas fa-user"></i> Đăng nhập
        </a>
        <a href="@Url.Action("Index", "Register")" class="sense-btn sense-btn-primary">
            <i class="fas fa-user-plus"></i> Đăng ký
        </a>
    }
</div>
            </div>
        </div>
    </header>

    <!-- NAVIGATION -->
    @await Component.InvokeAsync("MenuView")

    <!-- HERO SECTION -->
    @RenderBody()

    <!-- FOOTER -->
    <footer class="sense-footer">
        <div class="sense-container">
            <div class="sense-footer-grid">
                <div class="sense-footer-col">
                    <div class="sense-footer-logo">
                        <img src="/api/placeholder/150/50" alt="SenseLib Logo">
                        <span>SenseLib</span>
                    </div>
                    <p>Thư viện số thông minh - Tri thức cho cộng đồng</p>
                    <div class="sense-social">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="sense-footer-col">
                    <h3>Liên kết nhanh</h3>
                    <ul>
                        <li><a href="#">Trang chủ</a></li>
                        <li><a href="#">Danh sách tài liệu</a></li>
                        <li><a href="#">Đăng tải tài liệu</a></li>
                        <li><a href="#">Tài liệu yêu thích</a></li>
                        <li><a href="#">Giới thiệu</a></li>
                        <li><a href="#">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="sense-footer-col">
                    <h3>Danh mục phổ biến</h3>
                    <ul>
                        <li><a href="#">Công nghệ thông tin</a></li>
                        <li><a href="#">Khoa học tự nhiên</a></li>
                        <li><a href="#">Khoa học xã hội</a></li>
                        <li><a href="#">Kinh tế - Quản trị</a></li>
                        <li><a href="#">Y học - Sức khỏe</a></li>
                        <li><a href="#">Ngoại ngữ</a></li>
                    </ul>
                </div>
                <div class="sense-footer-col">
                    <h3>Thông tin liên hệ</h3>
                    <ul class="sense-contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> 182 Lê Duẩn, TP. Vinh, Nghệ An</li>
                        <li><i class="fas fa-phone"></i> (+84) 238 3855 452</li>
                        <li><i class="fas fa-envelope"></i> senselib@vinhuni.edu.vn</li>
                    </ul>
                </div>
            </div>
            <div class="sense-copyright">
                <p>&copy; 2025 SenseLib - Trường Đại học Vinh. Tất cả các quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="~/assets/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/js/site.js" asp-append-version="true"></script>
    <script src="~/assets/js/category.js" asp-append-version="true"></script>
    <script src="~/assets/js/document.js" asp-append-version="true"></script>
    <script src="~/assets/js/profile.js" asp-append-version="true"></script>
    <script src="~/assets/js/favoritedocument.js" asp-append-version="true"></script>
    <script src="~/assets/js/contact.js" asp-append-version="true"></script>
    <script src="~/assets/js/about.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>


</body>
</html>
